# Technology Stack: StreamKinetics OpenClaw Platform

## Frontend

- Framework: Svelte 5 (SvelteKit) with runes for reactive state.
  - Note: ESLint prefer-const rules can conflict with $bindable(). Use let for these runes.
  - Caution: Avoid variable names that collide with browser APIs (use isOpen instead of open).
- Styling: Tailwind CSS 4.1.8+ and Skeleton 4 (Svelte).
- State: Svelte 5 runes and SvelteKit stores.
- Icons: Lucide-Svelte.

## Backend and Infrastructure

- Platform: Cloudflare Workers (edge runtime).
- Containers: Cloudflare Sandbox for OpenClaw runtime.
- Database: Cloudflare D1.
- Key-Value: Cloudflare KV.
- Auth: Better-Auth with Passkeys and MFA.
- AI: Cloudflare Workers AI routed through AI Gateway.

## Data Layer

- ORM: Drizzle ORM.
- Migrations: Drizzle Kit (canonical directory: drizzle/).
  - Rule: SQL migrations must be generated by drizzle-kit generate.

## Integrations

- Billing: Stripe SDK v2025+.
- Messaging: Cloudflare Queues for event-driven processing.

## Deployment and Runtime Rules

- Runtime: Bun only. Do not use npm or node.
- Bundler: Vite (required by SvelteKit).
- Keep dependencies on latest versions unless a documented incompatibility exists.

## Tooling and Quality Assurance

- Language: TypeScript (strict).
- Unit/Smoke: Bun test.
- Components: Vitest + Svelte Testing Library.
- E2E: Playwright.
- Linting: ESLint.
- Formatting: Prettier.

## Forbidden Patterns (Strict)

- Svelte 4 legacy syntax:
  - export let prop (use $props())
  - createEventDispatcher (use callback props)
  - <slot> (use {@render} or children props)
  - $: reactive (use $derived() or $effect())
- Styling:
  - @apply is forbidden. Use utility classes.
  - Hardcoded colors are forbidden. Use design tokens.
- Architecture:
  - Client-side DB access is forbidden.
  - Secrets must not be accessed in client load functions.

## Notes

- This stack is the source of truth for future work. Existing code may need migration.
